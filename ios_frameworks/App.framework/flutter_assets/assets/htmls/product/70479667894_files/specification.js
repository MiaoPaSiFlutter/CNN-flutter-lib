!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t){function n(e){var t=/complete|loaded|interactive/;t.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",function(){e()},!1)}function o(){var e=/jdpingou/.test(navigator.userAgent);if(e&&!t){var t=document.getElementById("jx-icon"),n=document.createElement("div"),o=new Image;n.id="jx-icon",n.className="jx-icon-native",o.src="https://img11.360buyimg.com/imagetools/jfs/t1/91513/36/6031/15838/5df04ee7E70dda9c3/78417aa729bff776.png",n.appendChild(o),document.body.appendChild(n)}}function i(){try{var e=window.location.pathname,t=e.split("/"),n=t[t.length-1].split(".");return n[0]}catch(o){sendErr({l:"4",d:"获取页面skuid异常",f:"getSkuId",e:JSON.stringify(o)})}}function a(){try{var e=document.getElementById("SpecificationsModule")||null;if(e){var t=e.offsetHeight,n=document.createElement("p");if(n.id="btn-showFullSpecification",n.setAttribute("class","btn-showFullSpecification"),n.innerHTML="展开",t>300&&t-300>100){e.style.height="300px",e.style.paddingBottom="40px",e.appendChild(n);var o=window.innerHeight||document.documentElement.clientHeight,a=document.getElementById("btn-showFullSpecification"),d=function r(){var e=a.getBoundingClientRect(),t=e.top;if(e.bottom>0&&t<o){try{var n=new MPing.inputs.Click("mProductdetail_ExpCllapseExpo");n.event_param="spec",n.page_param=i(),n.page_id="Productdetail_MainPage";var d=new MPing;d.send(n)}catch(c){sendErr({l:"4",d:"规格参数展开收起按钮曝光埋点异常",f:"setSpecificationUpDownBtn",e:"mProductdetail_ExpCllapseExpo"})}document.removeEventListener("scroll",r,!1)}};document.addEventListener("scroll",d,!1),d()}}}catch(c){sendErr({l:"4",d:"设置规格参数收起异常",f:"setSpecificationUpDownBtn",e:JSON.stringify(c)})}}function d(){var e=document.getElementById("btn-showFullSpecification")||null;e&&e.addEventListener("click",function(){var t=document.getElementById("SpecificationsModule"),n=document.getElementById("table-box"),o=n.offsetHeight,a=o+40,d=!0,r=a+40-340,l=Math.max(document.documentElement.scrollTop,document.body.scrollTop),s=l;if(e.innerHTML.indexOf("展开")>-1){d=!0,e.className="btn-showFullSpecification show",e.innerHTML="收起",t.style.height=a+"px";try{var u=new MPing.inputs.Click("mProductdetail_Expand");u.event_param="spec",u.page_param=i(),u.page_id="Productdetail_MainPage";var p=new MPing;p.send(u)}catch(m){sendErr({l:"4",d:"规格参数点击展开埋点异常",f:"upAndDownSpecification",e:"mProductdetail_Expand"})}}else try{d=!1;var f=t.clientHeight;t.className="part-box",e.className="btn-showFullSpecification",e.innerHTML="展开",t.style.height="300px",s=l-(f-340),document.documentElement&&document.documentElement.scrollTo&&document.documentElement.scrollTo(0,s),document.documentElement.scrollTop=s,document.body.scrollTop=s;try{var u=new MPing.inputs.Click("mProductdetail_Collapse");u.event_param="spec",u.page_param=i(),u.page_id="Productdetail_MainPage";var p=new MPing;p.send(u)}catch(m){sendErr({l:"4",d:"规格参数点击收起埋点异常",f:"upAndDownSpecification",e:"mProductdetail_Collapse"})}}catch(m){sendErr({l:"3",d:"收起规格参数展示异常",f:"upAndDownSpecification",e:"mProductdetail_Collapse"})}c();try{var g=navigator.userAgent,y=g.indexOf("supportJDSHWK/1")!=-1||1==window._is_jdsh_wkwebview,v=JSON.stringify({expand:d,expandHeight:r,locate:s});if(JSSDK.Client.isIOS()||y){var w=d?"down":"up";window.location.href='openapp.jdmobile://virtual?params={"category":"jump","des":"productDetail_jscallback","expand":"'+w+'","expandHeight":"'+r+'","offset":"'+s+'"}'}else if(JSSDK.Client.isAndroid())try{window.JDAppUnite&&window.JDAppUnite.expandSpec(v)}catch(m){sendErr({l:"3",d:"调用规格参数的展开收起的通知 native 的 native 方法错误",f:"upAndDownSpecification",e:"mProductdetail_Collapse"})}}catch(m){sendErr({l:"3",d:"收起规格参数展示异常",f:"upAndDownSpecification",e:JSON.stringify(m)})}},!1)}function c(){var e=0,t=setInterval(function(){e++,e>4&&clearInterval(t);var n=document.body.clientHeight,o={from:"specification",data:n};window.parent.postMessage&&window.parent.postMessage(o,"*");var i=JSON.stringify(o);window.parent.postMessage&&window.parent.postMessage(i,"*")},300)}!function(){function e(){var e=414,t=document.documentElement.clientWidth;t=t>e?e:t;var n=t/320*16;document.getElementsByTagName("html")[0].style.fontSize=n+"px"}e(),document.addEventListener("DOMContentLoaded",function(e){c()}),window.addEventListener("resize",e,!1),window.addEventListener("orientationchange",e,!1)}(),function(){window.drawTableData=function(){function e(e,t){for(var n,o=0,i=e.length;o<i;++o)if(void 0!==(n=t(e[o],o)))return n}function t(e,t){for(var n in e)t(n,e[n])}function n(e){return""!=e&&void 0!=e&&null!=e}function o(n,o){try{"2"==o?e(n,function(n,o){t(n,function(n,o){w+="<tr><td colspan='2'><strong>"+n+"</strong></td></tr>",e(o,function(e,n){t(e,function(e,t){e=e.replace(/[\（|(]/,"<br/> ("),w+="<tr><td>"+e+"</td><td>"+t+"</td></tr>"})})})}):"5"==o?i(n):e(n,function(e,n){t(e,function(e,t){e=e.replace(/[\（|(]/,"<br/> ("),w+="<tr><td>"+e+"</td><td>"+t+"</td></tr>"})})}catch(a){sendErr({l:"3",d:"老规格参数数据生成表格异常",f:"doJson",e:JSON.stringify(a)})}}function i(t){try{var n=t.propGroups||{};e(n,function(t,n){w+="<tr><td colspan='2'><strong>"+t.groupName+"</strong></td></tr>",e(t.atts,function(e,t){var n=e.attName.replace(/[\（|(]/,"<br/> (");w+="<tr><td>"+n+"</td><td>"+e.vals+"</td></tr>"})})}catch(o){sendErr({l:"3",d:"新规格参数数据生成表格异常",f:"doNewJson",e:JSON.stringify(o)})}}var a=document.getElementById("wareGuigNew")?document.getElementById("wareGuigNew").value:null,d=document.getElementById("isWareGuigNew")?document.getElementById("isWareGuigNew").value:null,c=document.getElementById("drugExpiryDate")?document.getElementById("drugExpiryDate").value:null,r=!n(a)||"2"!=d&&"3"!=d&&"5"!=d?"":JSON.parse(a);if(n(c))if("5"!=d){var l=r.length,s=Object.keys(r[l-1]);r[l-1][s].push(JSON.parse(c))}else{var u=[],p=JSON.parse(c),m=Object.keys(p)[0];u.push(p[m]);var f=u[0],g=r.propGroups,y=g.length;r.propGroups[y-1].atts.push({attName:m,vals:f})}var v=document.getElementById("wareId").value,w="";try{var E=function(t){e(t,function(e,t){e.parentNode.addEventListener("click",function(t){document.getElementById("tips_panel_content").innerHTML=e.getAttribute("data-tips"),document.getElementById("tips_panel").style.display="block",document.getElementById("tips_panel_content").scrollTop=0,document.getElementsByTagName("body")[0].style.overflow="hidden"},!1)})};""!=r&&(w+="<table class='table-border' width='100%'><tbody><tr><td>商品编号</td><td>"+v+"</td></tr>",o(r,d),w+="</tbody></table>");var h=document.getElementById("table-box");h.innerHTML=""==w?"暂无":w.replace("http:",""),E(document.getElementsByClassName("newspecification-tips"))}catch(b){sendErr({l:"3",d:"初始化绘制规格参数数据表格异常",f:"openTips",e:JSON.stringify(b)})}};var e=function(){try{document.getElementsByClassName("check-btn-double")&&document.getElementsByClassName("check-btn-double").children&&document.getElementsByClassName("check-btn-double")[0].children[0].addEventListener("click",function(e){document.getElementById("tips_panel_content").innerHTML="",document.getElementById("tips_panel").style.display="none",document.getElementsByTagName("body")[0].style.overflow="visible"},!1)}catch(e){sendErr({l:"3",d:"关闭提示框异常",f:"closeTipsDialog",e:JSON.stringify(e)})}};n(function(){drawTableData(),e(),a(),d(),o()})}()}]);